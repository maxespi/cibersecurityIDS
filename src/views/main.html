<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Identificador de Intrusos</title>

    <!-- Import Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Import Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Import Google Icon Font -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        margin: 0;
        padding: 0;
      }

      .glass-effect {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .card-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .card-hover:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .gradient-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
      }

      .animate-float {
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .pulse-ring {
        animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
      }

      @keyframes pulse-ring {
        0% {
          transform: scale(0.33);
          opacity: 1;
        }
        80%,
        100% {
          transform: scale(2.4);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="glass-effect">
      <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
          <div class="flex items-center space-x-3">
            <div class="relative">
              <div
                class="absolute inset-0 bg-blue-500 rounded-full pulse-ring"
              ></div>
              <div class="relative bg-blue-500 text-white p-3 rounded-full">
                <i class="material-icons text-2xl">security</i>
              </div>
            </div>
            <div>
              <h1 class="text-2xl font-bold text-white">CyberGuard IDS</h1>
              <p class="text-blue-100 text-sm">
                Sistema de Detección de Intrusos
              </p>
            </div>
          </div>

          <div id="userPanel" class="text-right">
            <div
              class="bg-white bg-opacity-20 backdrop-filter backdrop-blur-lg rounded-lg px-4 py-2"
            >
              <span id="loggedInUser" class="text-white font-medium"
                >👤 Usuario: No logueado</span
              >
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-6 py-8">
      <!-- Navigation Cards -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div
          class="glass-effect rounded-2xl p-6 card-hover cursor-pointer"
          id="showScripts"
        >
          <div class="flex items-center justify-between mb-4">
            <div class="bg-green-500 p-3 rounded-xl">
              <i class="material-icons text-white text-2xl">code</i>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold text-white">Scripts</div>
              <div class="text-green-200 text-sm">Automatización</div>
            </div>
          </div>
          <p class="text-white text-opacity-80 text-sm">
            Ejecutar scripts de detección y análisis de amenazas en tiempo real
          </p>
        </div>

        <div
          class="glass-effect rounded-2xl p-6 card-hover cursor-pointer"
          id="showLogs"
        >
          <div class="flex items-center justify-between mb-4">
            <div class="bg-blue-500 p-3 rounded-xl">
              <i class="material-icons text-white text-2xl">list_alt</i>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold text-white">Logs</div>
              <div class="text-blue-200 text-sm">Análisis</div>
            </div>
          </div>
          <p class="text-white text-opacity-80 text-sm">
            Revisar logs de eventos del sistema y intentos de acceso
          </p>
        </div>

        <div
          class="glass-effect rounded-2xl p-6 card-hover cursor-pointer"
          id="showSalidaIpsLogs"
        >
          <div class="flex items-center justify-between mb-4">
            <div class="bg-orange-500 p-3 rounded-xl">
              <i class="material-icons text-white text-2xl">visibility</i>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold text-white">IPs Detectadas</div>
              <div class="text-orange-200 text-sm">Monitoreo</div>
            </div>
          </div>
          <p class="text-white text-opacity-80 text-sm">
            Ver direcciones IP sospechosas identificadas por el sistema
          </p>
        </div>

        <div
          class="glass-effect rounded-2xl p-6 card-hover cursor-pointer"
          id="showFirewall"
        >
          <div class="flex items-center justify-between mb-4">
            <div class="bg-red-500 p-3 rounded-xl">
              <i class="material-icons text-white text-2xl">shield</i>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold text-white">Firewall</div>
              <div class="text-red-200 text-sm">Protección</div>
            </div>
          </div>
          <p class="text-white text-opacity-80 text-sm">
            Gestionar reglas del firewall y IPs bloqueadas
          </p>
        </div>
      </div>

      <!-- Control Panel -->
      <div class="glass-effect rounded-2xl p-8 mb-8">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
          <i class="material-icons mr-3">dashboard</i>
          Panel de Control
        </h2>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- Quick Scan -->
          <div class="bg-white bg-opacity-10 rounded-xl p-6">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
              <i class="material-icons mr-2 text-green-400">play_circle</i>
              Escaneo Rápido
            </h3>

            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-white mb-2">
                  Intervalo (segundos)
                </label>
                <input
                  type="number"
                  id="intervalInput"
                  placeholder="60"
                  min="1"
                  class="w-full px-4 py-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>

              <div class="flex items-center space-x-2">
                <input
                  type="checkbox"
                  id="runFirewallOnce"
                  class="rounded text-blue-500"
                />
                <label for="runFirewallOnce" class="text-sm text-white">
                  Aplicar reglas firewall una vez
                </label>
              </div>

              <div class="flex space-x-2">
                <button
                  id="startLogging"
                  class="flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium"
                >
                  <i class="material-icons mr-2">play_arrow</i>Iniciar
                </button>
                <button
                  id="stopLogging"
                  class="flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium transition-all"
                >
                  <i class="material-icons mr-2">stop</i>Detener
                </button>
              </div>
            </div>
          </div>

          <!-- Firewall Management -->
          <div class="bg-white bg-opacity-10 rounded-xl p-6">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
              <i class="material-icons mr-2 text-red-400">security</i>
              Gestión Firewall
            </h3>

            <div class="space-y-4">
              <div class="flex items-center space-x-2">
                <input
                  type="checkbox"
                  id="runFirewallAlways"
                  class="rounded text-red-500"
                />
                <label for="runFirewallAlways" class="text-sm text-white">
                  Aplicar reglas automáticamente
                </label>
              </div>

              <button
                id="addFirewallRules"
                class="w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium transition-all"
              >
                <i class="material-icons mr-2">add_moderator</i>Agregar Reglas
              </button>

              <button
                id="clearLog"
                class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-medium transition-all"
              >
                <i class="material-icons mr-2">clear_all</i>Limpiar Logs
              </button>
            </div>
          </div>

          <!-- System Status -->
          <div class="bg-white bg-opacity-10 rounded-xl p-6">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
              <i class="material-icons mr-2 text-blue-400">monitoring</i>
              Estado del Sistema
            </h3>

            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-sm text-white">Firewall</span>
                <div class="flex items-center">
                  <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                  <span class="text-sm text-green-400">Activo</span>
                </div>
              </div>

              <div class="flex justify-between items-center">
                <span class="text-sm text-white">Monitoreo</span>
                <div class="flex items-center">
                  <div class="w-2 h-2 bg-blue-400 rounded-full mr-2"></div>
                  <span class="text-sm text-blue-400">En línea</span>
                </div>
              </div>

              <div class="flex justify-between items-center">
                <span class="text-sm text-white">Base de datos</span>
                <div class="flex items-center">
                  <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                  <span class="text-sm text-green-400">Conectada</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Recent Logs -->
        <div class="glass-effect rounded-2xl p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-white flex items-center">
              <i class="material-icons mr-2 text-blue-400">history</i>
              Actividad Reciente
            </h3>
            <span class="text-sm text-blue-200">Últimos 25 registros</span>
          </div>

          <div
            id="recentTableLogs"
            class="bg-white bg-opacity-10 rounded-lg p-4 h-64 overflow-y-auto"
          >
            <div class="text-center text-white text-opacity-70 mt-20">
              <i class="material-icons text-4xl mb-2">inbox</i>
              <p>No hay actividad reciente</p>
            </div>
          </div>
        </div>

        <!-- Live Feed -->
        <div class="glass-effect rounded-2xl p-6">
          <div class="grid grid-cols-1 gap-4 h-full">
            <!-- Actions Log -->
            <div>
              <h4
                class="text-md font-semibold text-white mb-3 flex items-center"
              >
                <i class="material-icons mr-2 text-green-400">person</i>
                Acciones de Usuario
              </h4>
              <div
                id="actions"
                class="bg-white bg-opacity-10 rounded-lg p-3 h-24 overflow-y-auto text-sm"
              >
                <div class="text-white text-opacity-70 text-center mt-6">
                  <p>Sin acciones registradas</p>
                </div>
              </div>
            </div>

            <!-- Script Log -->
            <div>
              <h4
                class="text-md font-semibold text-white mb-3 flex items-center"
              >
                <i class="material-icons mr-2 text-orange-400">terminal</i>
                Logs de Script
              </h4>
              <div
                id="log"
                class="bg-white bg-opacity-10 rounded-lg p-3 h-32 overflow-y-auto text-sm font-mono"
              >
                <div class="text-white text-opacity-70 text-center mt-8">
                  <p>Esperando ejecución de scripts...</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="mt-12 text-center">
        <div class="glass-effect rounded-xl p-4">
          <p class="text-white text-opacity-70 text-sm">
            © 2024 CyberGuard IDS - Sistema de Detección de Intrusos
            <span class="mx-2">•</span>
            <span class="text-green-400">v1.0.0</span>
          </p>
        </div>
      </footer>
    </div>

    <script src="../renderer/mainRenderer.js"></script>
  </body>
</html>
